{% extends 'base.html' %}
{% block title %}Companies — Dex Inv{% endblock %}
{% block pagetitle %}Companies{% endblock %}
{% block breadcrumb %}dex-inv / admin / companies{% endblock %}

{% block content %}
<div class="card" style="animation:pageIn .35s ease both">
  <div class="card-hd">
    <span>Registered Companies</span>
    <span style="color:var(--muted2);font-family:var(--font-mono);font-size:10px">{{ companies|length }} orgs</span>
  </div>
  <div style="overflow-x:auto">
    <table class="dtable">
      <thead><tr>
        <th>#</th><th>Company</th><th>Email</th><th>Address</th>
        <th>Users</th><th>Products</th><th>Registered</th>
      </tr></thead>
      <tbody>
        {% for c in companies %}
        <tr>
          <td style="font-family:var(--font-mono);font-size:11px;color:var(--muted2)">{{ c.id }}</td>
          <td>
            <div style="font-weight:600;font-size:14px">{{ c.name }}</div>
          </td>
          <td style="font-size:12px;color:var(--muted2)">{{ c.email }}</td>
          <td style="font-size:12px;color:var(--muted2)">
            {% if c.city %}{{ c.city }}{% if c.state %}, {{ c.state }}{% endif %}{% if c.country %}, {{ c.country }}{% endif %}
            {% else %}—{% endif %}
          </td>
          <td><span class="chip chip-purple">{{ c.user_count }}</span></td>
          <td><span class="chip chip-blue">{{ c.product_count }}</span></td>
          <td style="font-family:var(--font-mono);font-size:11px;color:var(--muted2)">{{ c.created_at[:10] if c.created_at else '—' }}</td>
        </tr>
        {% else %}
        <tr><td colspan="7" style="text-align:center;padding:40px;color:var(--muted2)">
          No companies registered yet.
        </td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
