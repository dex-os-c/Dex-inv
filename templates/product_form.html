{% extends 'base.html' %}
{% block title %}{{ action }} Product{% endblock %}
{% block pagetitle %}{{ action }} Product{% endblock %}

{% block content %}
<div style="max-width:600px">
  <div class="card">
    <div class="card-header-custom">
      <span>{{ 'NEW PRODUCT' if action=='Add' else 'EDIT PRODUCT' }}</span>
      {% if product %}<span style="color:var(--muted);font-size:11px;font-family:var(--font-mono)">{{ product.sku }}</span>{% endif %}
    </div>
    <div style="padding:28px">
      <form method="POST">
        <div class="row g-3">
          <div class="col-md-8">
            <label class="form-label">Product Name</label>
            <input class="form-control" name="name" required value="{{ product.name if product else '' }}" placeholder="e.g. Wireless Keyboard"/>
          </div>
          <div class="col-md-4">
            <label class="form-label">SKU</label>
            <input class="form-control" name="sku" required value="{{ product.sku if product else '' }}" placeholder="KBD-001" style="font-family:var(--font-mono)"/>
          </div>
          <div class="col-md-6">
            <label class="form-label">Category</label>
            <input class="form-control" name="category" value="{{ product.category if product else '' }}" list="cats" placeholder="Electronics"/>
            <datalist id="cats">
              <option value="Electronics"/><option value="Peripherals"/>
              <option value="Accessories"/><option value="Office"/>
              <option value="Furniture"/><option value="Software"/>
            </datalist>
          </div>
          <div class="col-md-3">
            <label class="form-label">Quantity</label>
            <input class="form-control" name="quantity" type="number" min="0" required value="{{ product.quantity if product else 0 }}" style="font-family:var(--font-mono)"/>
          </div>
          <div class="col-md-3">
            <label class="form-label">Unit Price ($)</label>
            <input class="form-control" name="price" type="number" step="0.01" min="0" required value="{{ product.price if product else '0.00' }}" style="font-family:var(--font-mono)"/>
          </div>
          <div class="col-md-4">
            <label class="form-label">Low Stock Threshold</label>
            <input class="form-control" name="threshold" type="number" min="0" required value="{{ product.threshold if product else 10 }}" style="font-family:var(--font-mono)"/>
            <div style="font-size:11px;color:var(--muted);margin-top:5px">Alert when qty falls below this</div>
          </div>
          {% if action == 'Edit' %}
          <div class="col-md-8">
            <label class="form-label">Change Note</label>
            <input class="form-control" name="note" placeholder="Reason for quantity changeâ€¦"/>
          </div>
          {% endif %}
        </div>
        <div class="d-flex gap-3 mt-4">
          <button class="btn-accent" type="submit">
            <i class="bi bi-{% if action=='Add' %}plus-lg{% else %}check-lg{% endif %} me-1"></i>
            {{ action }} Product
          </button>
          <a href="/inventory" class="btn-ghost">Cancel</a>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
